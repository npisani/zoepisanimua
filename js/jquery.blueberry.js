!function(e){e.fn.extend({blueberry:function(a){var i={interval:5e3,duration:700,lineheight:1,height:"auto",hoverpause:!1,pager:!0,nav:!0,keynav:!0},a=e.extend(i,a);return this.each(function(){var i=a,n=e(this),t=e(".slides li",n),u=e(".pager li",n),l=0,c=l+1,r=t.eq(l).find("img").height(),s=t.eq(l).find("img").width(),d=s/r,o=0,h=0;t.hide().eq(l).fadeIn(i.duration).addClass("active"),u.length?u.eq(l).addClass("active"):i.pager&&(n.append('<ul class="pager"></ul>'),t.each(function(a){e(".pager",n).append('<li><a href="#"><span>'+a+"</span></a></li>")}),u=e(".pager li",n),u.eq(l).addClass("active")),u&&e("a",u).click(function(){return clearTimeout(n.play),c=e(this).parent().index(),f(),!1});var f=function(){t.eq(l).fadeOut(i.duration).removeClass("active").end().eq(c).fadeIn(i.duration).addClass("active").queue(function(){p(),e(this).dequeue()}),u&&u.eq(l).removeClass("active").end().eq(c).addClass("active"),l=c,c=l>=t.length-1?0:l+1},p=function(){n.play=setTimeout(function(){f(),clearTimeout(n.play)},i.interval)};p(),i.hoverpause&&t.hover(function(){clearTimeout(n.play)},function(){p()});var v=function(){o=e(".slides",n).width(),h=Math.floor(o/d/i.lineheight)*i.lineheight,e(".slides",n).css({height:h})};v(),e(window).resize(function(){v()}),i.keynav&&e(document).keyup(function(e){switch(e.which){case 39:case 32:clearTimeout(n.play),f();break;case 37:clearTimeout(n.play),c=l-1,f()}})})}})}(jQuery);